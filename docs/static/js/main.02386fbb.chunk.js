(this["webpackJsonpaugust-youtube"]=this["webpackJsonpaugust-youtube"]||[]).push([[0],{25:function(e,t,a){e.exports=a(37)},30:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),o=a(22),r=a.n(o),c=a(14),s=(a(30),a(11)),l=a(13),u=a.n(l),d=a(6),m=a(7),h=a(9),p=a(8),v=a(4),g=a(10),f=a(16);var b=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 50 50",version:"1.1",viewBox:"0 0 50 50",xmlSpace:"preserve"},i.a.createElement("path",{fill:"#D75A4A",d:"M24.85 10.126c2.018-4.783 6.628-8.125 11.99-8.125 7.223 0 12.425 6.179 13.079 13.543 0 0 .353 1.828-.424 5.119-1.058 4.482-3.545 8.464-6.898 11.503L24.85 48 7.402 32.165c-3.353-3.038-5.84-7.021-6.898-11.503-.777-3.291-.424-5.119-.424-5.119C.734 8.179 5.936 2 13.159 2c5.363 0 9.673 3.343 11.691 8.126z"}))};var y=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",enableBackground:"new 0 0 51.997 51.997",version:"1.1",viewBox:"0 0 51.997 51.997",xmlSpace:"preserve"},i.a.createElement("path",{stroke:"white",d:"M51.911 16.242c-.759-8.354-6.672-14.415-14.072-14.415-4.93 0-9.444 2.653-11.984 6.905-2.517-4.307-6.846-6.906-11.697-6.906C6.759 1.826.845 7.887.087 16.241c-.06.369-.306 2.311.442 5.478 1.078 4.568 3.568 8.723 7.199 12.013l18.115 16.439 18.426-16.438c3.631-3.291 6.121-7.445 7.199-12.014.748-3.166.502-5.108.443-5.477zm-2.39 5.019c-.984 4.172-3.265 7.973-6.59 10.985L25.855 47.481 9.072 32.25c-3.331-3.018-5.611-6.818-6.596-10.99-.708-2.997-.417-4.69-.416-4.701l.015-.101c.65-7.319 5.731-12.632 12.083-12.632 4.687 0 8.813 2.88 10.771 7.515l.921 2.183.921-2.183c1.927-4.564 6.271-7.514 11.069-7.514 6.351 0 11.433 5.313 12.096 12.727.002.016.293 1.71-.415 4.707z"}))};var k=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).onVideoClick=a.onVideoClick.bind(Object(v.a)(a)),a.onToggleLikeVideo=a.onToggleLikeVideo.bind(Object(v.a)(a)),a.state={like:!1},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({like:this.props.isVideoLiked})}},{key:"onVideoClick",value:function(){var e=this.props.video;new window.YT.Player(e.etag,{height:"390",width:"640",videoId:e.id.videoId,playerVars:{autoplay:1,iv_load_policy:3,modestbranding:1,rel:0,enablejsapi:1}})}},{key:"onToggleLikeVideo",value:function(){this.props.onToggleLikeVideo(this.props.video),this.setState({like:!this.state.like})}},{key:"render",value:function(){var e=this.props.video,t=this.onVideoClick,a=e.snippet.thumbnails.high.url,n=this.state.like,o=this.onToggleLikeVideo;return i.a.createElement("div",{className:"VideoPlayerItem"},i.a.createElement("article",{className:"VideoPlayerItem__video"},i.a.createElement("div",{className:"video-ratio-wrapper"},i.a.createElement("figure",{id:e.etag},i.a.createElement("img",{src:a,onClick:t})))),i.a.createElement("header",{className:"VideoPlayerItem__header"},i.a.createElement("div",{className:"VideoPlayerItem__heading"},i.a.createElement("h3",{className:"VideoPlayerItem__title"},e.snippet.title),i.a.createElement("h5",{className:"VideoPlayerItem__author"},"by ",e.snippet.channelTitle)),i.a.createElement("button",{className:"VideoPlayerItem__like",onClick:o},i.a.createElement((function(){return n?i.a.createElement(b,null):i.a.createElement(y,null)}),null))))}}]),t}(i.a.Component);var w=function(e){function t(e){return Object(d.a)(this,t),Object(h.a)(this,Object(p.a)(t).call(this,e))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"shouldComponentUpdate",value:function(e){return function(e,t){if(!e||!t)throw new Error("Videos broken");if(e.length!==t.length)return!0;for(var a=0;a<e.length;a++)if(e[a].etag!==t[a].etag)return!0;return!1}(e.videos,this.props.videos)}},{key:"render",value:function(){var e=this.props.videos,t=(this.onLikeVideo,this.props.likedVideos),a=this.props.onToggleLikeVideo;return i.a.createElement("div",{className:"VideoPlayerList"},i.a.createElement((function(n){return e.map((function(e,n){return i.a.createElement(k,{key:n,video:e,onToggleLikeVideo:a,isVideoLiked:t.some((function(t){return t.etag===e.etag}))})}))}),null))}}]),t}(i.a.Component),E={loadScript:function(e){var t=document.createElement("script");t.src="https://www.youtube.com/iframe_api";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(t,a),window.onYouTubeIframeAPIReady=function(){e(),window.isYouTubeIframeAPIReady=!0}},tryLoadScript:function(e){!1===E.isYouTubeIframeAPIReady&&E.loadScript(e)},get isYouTubeIframeAPIReady(){return!!window.hasOwnProperty("isYouTubeIframeAPIReady")&&window.isYouTubeIframeAPIReady}},I=E,V="august-youtube-likedVideos",S={addVideo:function(e){var t=this.videos;t.push(e),window.localStorage.setItem(V,JSON.stringify(t))},removeVideo:function(e){var t=this.videos,a=this.findVideoIndex(e);t.splice(a,1),window.localStorage.setItem(V,JSON.stringify(t))},findVideoIndex:function(e){return this.videos.findIndex((function(t){return t.etag===e.etag}))},get videos(){try{var e=window.localStorage.getItem(V);return e?JSON.parse(e):[]}catch(t){return console.log(t),!1}}};function L(){return(L=Object(f.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://www.googleapis.com/youtube/v3/search?part=snippet&q=".concat(t,"&maxResults=6&type=video&key=AIzaSyCB1WjqD_vSvZjvPA5CI_xaI2VLgbp3acY"));case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.next=9,n.items;case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),e.abrupt("return",new Error("Videos cannot be fetched"));case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}var T=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={searchInput:"",isLoading:!1,isYouTubeIframeAPIReady:!1,videos:[],likedVideos:[]},a.onSearchInputChange=a.onSearchInputChange.bind(Object(v.a)(a)),a.onSearchInputSubmit=a.onSearchInputSubmit.bind(Object(v.a)(a)),a.onToggleLikeVideo=a.onToggleLikeVideo.bind(Object(v.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"onSearchInputChange",value:function(e){this.setState({searchInput:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;I.tryLoadScript((function(){e.setState({isYouTubeIframeAPIReady:!0})}))}},{key:"onToggleLikeVideo",value:function(e){-1===S.findVideoIndex(e)?S.addVideo(e):S.removeVideo(e)}},{key:"onSearchInputSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({isLoading:!0}),function(e){return L.apply(this,arguments)}(this.state.searchInput).then((function(e){t.setState({videos:e}),t.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state.videos,t=this.state.searchInput,a=this.onSearchInputChange,n=this.onSearchInputSubmit,o=this.onToggleLikeVideo,r=this.state.isLoading,c=this.state.isLoading?"loading":"",s=this.state.isYouTubeIframeAPIReady?"ready":"",l=S.videos;return i.a.createElement("div",{className:"VideoSearch"},i.a.createElement("form",{className:"VideoSearch__form",onSubmit:n},i.a.createElement("input",{type:"text",placeholder:"Search video",value:t,onChange:a}),i.a.createElement("button",{type:"submit",onClick:n},"Search")),i.a.createElement("section",{className:"VideoSearch__main ".concat(c," ").concat(s)},r?"Searching...":"",i.a.createElement(w,{videos:e,likedVideos:l,onToggleLikeVideo:o})))}}]),t}(i.a.Component);var j=function(e){function t(e){var a;return Object(d.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).state={videos:[],isLoading:!1,isYouTubeIframeAPIReady:!1},a.onToggleLikeVideo=a.onToggleLikeVideo.bind(Object(v.a)(a)),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),I.tryLoadScript((function(){e.setState({isYouTubeIframeAPIReady:!0})})),this.setState({videos:S.videos})}},{key:"onToggleLikeVideo",value:function(e){-1===S.findVideoIndex(e)?S.addVideo(e):S.removeVideo(e),this.setState({videos:S.videos})}},{key:"render",value:function(){var e=this.state.videos,t=this.onToggleLikeVideo,a=this.state.isLoading?"loading":"",n=this.state.isYouTubeIframeAPIReady?"ready":"";return i.a.createElement("div",{className:"VideoFavourite"},i.a.createElement("section",{className:"VideoFavourite__main ".concat(a," ").concat(n)},i.a.createElement(w,{videos:e,likedVideos:e,onToggleLikeVideo:t})))}}]),t}(i.a.Component);var O=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},i.a.createElement("path",{fill:"white",d:"M495 466.2L377.2 348.4c29.2-35.6 46.8-81.2 46.8-130.9C424 103.5 331.5 11 217.5 11 103.4 11 11 103.5 11 217.5S103.4 424 217.5 424c49.7 0 95.2-17.5 130.8-46.7L466.1 495c8 8 20.9 8 28.9 0 8-7.9 8-20.9 0-28.8zm-277.5-83.3C126.2 382.9 52 308.7 52 217.5S126.2 52 217.5 52C308.7 52 383 126.3 383 217.5s-74.3 165.4-165.5 165.4z"}))};var N=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header"},i.a.createElement("h1",{className:"App-title"},i.a.createElement(c.b,{to:"/"},"August Youtube")),i.a.createElement("nav",{className:"App-nav"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(c.b,{to:"/"},i.a.createElement("figure",{className:"nav-icon"},i.a.createElement(O,null)),i.a.createElement("span",{className:"nav-text"},"Search"))),i.a.createElement("li",null,i.a.createElement(c.b,{to:"/favourite"},i.a.createElement("figure",{className:"nav-icon"},i.a.createElement(b,null)),i.a.createElement("span",{className:"nav-text"},"Favourite")))))),i.a.createElement("main",{className:"App-main"},i.a.createElement(s.c,null,i.a.createElement(s.a,{exact:!0,path:"/",component:T}),i.a.createElement(s.a,{exact:!0,path:"/favourite",component:j}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(c.a,null,i.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.02386fbb.chunk.js.map